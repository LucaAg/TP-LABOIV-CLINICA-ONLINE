<div class="pantalla">
    <div class="box">
        <div class="card" *ngFor="let paciente of listaPacientes" (click)="verHistorial(paciente)">
            <img [src]="paciente.imagen1" alt="Imagen paciente">
            <div class="container">
              <h4><b>{{paciente.nombre | mayuscula}}</b></h4>
              <div class="contenedor-fechas" *ngFor="let pacienteCn of pacientesCount | keyvalue">
                <p *ngIf="paciente.id === pacienteCn.key" [innerHTML]="obtenerFechasPaciente(pacienteCn.value)"></p>
              </div>
            </div>
          </div>
    </div>
    <div class="contenedor-historial" *ngIf="historial">
        <div class="header-historial">
            <h1>Historia clínica</h1>
            <button (click)="historial = false;">Salir</button>
        </div>
          <div class="contenedor-datos" *ngFor="let historial of historialPorPaciente">
            <h4>Historial Clínico</h4>
            <ul>
              <li><strong>Fecha:</strong> {{ historial.fechaTurno }}</li>
              <li><strong>Paciente:</strong> {{ historial.paciente.apellido }}, {{ historial.paciente.nombre }}</li>
              <li><strong>Especialista:</strong> {{ historial.especialista.apellido }}</li>
              <li><strong>Peso:</strong> {{ historial.peso }}</li>
              <li><strong>Temperatura:</strong> {{ historial.temperatura }}</li>
              <li><strong>Presión:</strong> {{ historial.presion }}</li>
              <li><strong>Altura:</strong> {{ historial.altura }}</li>
              <li *ngFor="let campo of historial | excluirCampos">
                <strong>{{ campo[0] }}:</strong> {{ campo[1] }}
              </li>
            </ul>
            <hr />
          </div>
    </div>
</div>
<div class="contenedor-spinner" *ngIf="spinner">
  <app-spinner id="spinner"></app-spinner>
</div>
