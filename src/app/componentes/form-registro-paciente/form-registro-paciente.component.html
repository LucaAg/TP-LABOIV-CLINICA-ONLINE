<div class="box" id="box">
    <h2>Registrar paciente</h2>
        <form [formGroup]="formPaciente" (ngSubmit)="registrarPaciente()">
        <div class="contenedor-input">
            <div class="contenedor-input-error">
                <input formControlName="nombre" type="text" placeholder="Nombre">
                <small
                class="mensaje-error"
                *ngIf="
                formPaciente.controls['nombre'].errors?.['required'] &&
                formPaciente.controls['nombre'].touched">
                *El nombre es obligatorio
              </small>
            </div>
            <div class="contenedor-input-error">
                <input formControlName="apellido" type="text" placeholder="Apellido">
                <small
                class="mensaje-error"
                *ngIf="
                formPaciente.controls['apellido'].errors?.['required'] &&
                formPaciente.controls['apellido'].touched">
                *El apellido es obligatorio
              </small>
            </div>
        </div>
        <div class="contenedor-input">
            <div class="contenedor-input-error">
                <input formControlName="edad" type="number" placeholder="Edad">
                <small
                class="mensaje-error"
                *ngIf="
                formPaciente.controls['edad'].errors?.['required'] &&
                formPaciente.controls['edad'].touched">
                *La edad es obligatoria
              </small>
              <small
              class="mensaje-error"
              *ngIf="formPaciente.controls['edad'].errors?.['min'] ||
                      (formPaciente.controls['edad'].errors?.['max'] &&
                      formPaciente.controls['edad'].touched)">
                La edad debe ser entre 1 a 99 años      
              </small>        
            </div>
            <div class="contenedor-input-error">
                <input formControlName="dni" type="number" placeholder="DNI">
                <small
                class="mensaje-error"
                *ngIf="
                formPaciente.controls['dni'].errors?.['required'] &&
                formPaciente.controls['dni'].touched">
                *El DNI es obligatorio
              </small>  
              <small 
              class="mensaje-error"
               *ngIf="( formPaciente.controls['dni'].dirty ||  formPaciente.controls['dni'].touched) &&  
               formPaciente.controls['dni'].invalid &&  formPaciente.controls['dni'].errors?.['pattern']">
                *Debe tener 8 dígitos
              </small>  
            </div>
        </div>
        <div class="contenedor-input">
            <div class="contenedor-input-error">
                <input formControlName="email" type="email" placeholder="Correo electrónico">
                <small
                class="mensaje-error"
                *ngIf="
                formPaciente.controls['email'].errors?.['required'] &&
                formPaciente.controls['email'].touched">
                *El correo electrónico es obligatorio
              </small>
              <small 
              class="mensaje-error"
               *ngIf="( formPaciente.controls['email'].dirty ||  formPaciente.controls['email'].touched) &&  
               formPaciente.controls['email'].invalid &&  formPaciente.controls['email'].errors?.['pattern']">
                *Formato incorrecto. Ejemplo, ejemplo@ejemplo.com
              </small>
            </div>
            <div class="contenedor-input-error">
                <input formControlName="clave" type="password" placeholder="Contraseña">
                <small
                class="mensaje-error"
                *ngIf="
                formPaciente.controls['clave'].errors?.['required'] &&
                formPaciente.controls['clave'].touched">
                *La contraseña es obligatoria
              </small>      
              <small
              class="mensaje-error"
              *ngIf="
              formPaciente.controls['clave'].errors?.['pattern'] &&
              formPaciente.controls['clave'].touched">
              *La contraseña debe tener mínimo 6 caracteres
            </small>  
            </div>
        </div>
        <div class="contenedor-input">
            <div class="contenedor-input-error">
                <input class="input-obra" formControlName="obraSocial" type="email" placeholder="Obra social">
                <small
                class="mensaje-error"
                *ngIf="
                formPaciente.controls['obraSocial'].errors?.['required'] &&
                formPaciente.controls['obraSocial'].touched">
                *La obra social es obligatoria
              </small>  
            </div>
        </div>
        <div class="contenedor-input">
            <div class="contenedor-input-error">
                <div class="contenedor-img">
                    <label>Imagen de perfil</label>
                    <input formControlName="imagen" type="file" (change)="cargarImagen($event)" placeholder="Foto perfil">
                    <small
                    class="mensaje-error"
                    *ngIf="formPaciente.controls['imagen'].errors?.['required'] &&
                    formPaciente.controls['imagen'].touched ">
                    *La imagen es obligatoria
                    </small>
                </div>
            </div>
            <div class="contenedor-input-error">
                <div class="contenedor-img">
                    <label>Imagen de perfil 2</label>
                    <input formControlName="imagen2" type="file" (change)="cargarImagen2($event)" placeholder="Foto perfil">
                    <small
                    class="mensaje-error"
                    *ngIf="formPaciente.controls['imagen2'].errors?.['required'] &&
                    formPaciente.controls['imagen2'].touched ">
                    *La imagen es obligatoria
                    </small>
                </div>
            </div>
          </div>
          <div class="contenedor-captcha">
            <div class="captcha"> 
              <p>{{captcha | mayuscula}}</p>
            </div>
            <input type="text" formControlName="captcha" placeholder="CAPTCHA">
            <small class="mensaje-error"
            *ngIf="
            formPaciente.controls['captcha'].errors?.['required'] &&
            formPaciente.controls['captcha'].touched">
                  *El Captcha es requerido
            </small>
          </div>
        <div class="contendor-boton">
          <button type="submit">Registrar Paciente</button>
        </div>
    </form>
  </div>
  <div class="esconder contenedor-spinner" id="spinner" *ngIf="spinner">
    <app-spinner ></app-spinner>
  </div>

 


